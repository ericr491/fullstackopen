(this.webpackJsonp2b=this.webpackJsonp2b||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),o=t(14),r=t.n(o),i=(t(20),t(4)),l=t(2),c=t(3),d=t.n(c),f="http://localhost:3001/api/persons",m=function(){return d.a.get(f).then((function(e){return e.data}))},s=function(e){return d.a.post(f,e).then((function(e){return console.log(e.data),e.data}))},h=function(e){return d.a.delete(f+"/"+e).then((function(e){return console.log(e.data),e.data}))},b=function(e,n){return d.a.put(f+"/"+e,n).then((function(e){return console.log(e.data),e.data}))},v=function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)("input name"),c=Object(l.a)(r,2),d=c[0],f=c[1],v=Object(a.useState)("input number"),g=Object(l.a)(v,2),p=g[0],E=g[1],j=Object(a.useState)(""),w=Object(l.a)(j,2),O=w[0],S=w[1],y=Object(a.useState)(null),C=Object(l.a)(y,2),k=C[0],T=C[1],B=function(e){var n=e.msg;if(null==n)return null;return n.includes("not")||n.includes("delete")||n.includes("fail")?u.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n):u.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10}},n)};Object(a.useEffect)((function(){m().then((function(e){o(e)}))}),[]);var P=function(e){var n=t.find((function(n){return n.id==e}));h(e).then((function(){o(t.filter((function(n){return n.id!=e}))),T(n.name+" has been deleted")})).catch((function(){T("Person not found in server"),o(t.filter((function(n){return n.id!=e}))),setTimeout((function(){return T(null)}),5e3)}))};return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(B,{msg:k}),u.a.createElement("form",null,u.a.createElement("div",null,"filter shown with ",u.a.createElement("input",{value:O,onChange:function(e){S(e.target.value)}}))),u.a.createElement("h2",null,"Add a new Contact"),u.a.createElement("form",{onSubmit:function(){var e=!1;return t.forEach((function(n){n.name===d&&(e=!0)})),e}()?function(e){e.preventDefault();var n=t.find((function(e){return e.name===d})),a=Object(i.a)(Object(i.a)({},n),{},{name:d,number:p});b(a.id,a).then((function(e){return o(t.map((function(n){return n.id!==a.id?n:e})))})).then((function(){f(""),E("")})).then((function(){T("Replaced "+a.name),setTimeout((function(){return T(null)}),5e3)})).catch((function(){T(a.name+" not found in server"),o(t.filter((function(e){return e.id!=a.id}))),setTimeout((function(){return T(null)}),5e3)}))}:function(e){e.preventDefault();var n={name:d,number:p};console.log(n),s(n).then((function(e){o(t.concat(e)),f(""),E("")})).then((function(){T("Added "+n.name),setTimeout((function(){return T(null)}),5e3)})).catch((function(e){console.log(e.response.data),T("Person validation failed: "+e.response.data.error),setTimeout((function(){return T(null)}),5e3),f(""),E("")}))}},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:d,onChange:function(e){f(e.target.value)}})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:p,onChange:function(e){E(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add"))),u.a.createElement("h2",null,"Numbers"),u.a.createElement("div",null,(""===O?t:t.filter((function(e){return e.name.toLowerCase().includes(O.toLowerCase())}))).map((function(e){return u.a.createElement("div",null,e.name+" "+e.number,u.a.createElement("button",{onClick:function(){return P(e.id)},value:e.id},"delete"))}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(u.a.createElement(v,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.9459b835.chunk.js.map